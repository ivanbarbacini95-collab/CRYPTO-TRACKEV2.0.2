<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Injective ‚Ä¢ Portfolio</title>

  <link rel="stylesheet" href="style.css">

  <!-- Charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>

  <script src="app.js" defer></script>
</head>

<body data-theme="dark">

  <!-- Pull-to-refresh overlay (mobile) -->
  <div class="ptr" id="ptr" aria-hidden="true">
    <div class="ptr-inner">
      <div class="ptr-spinner" aria-hidden="true"></div>
      <div class="ptr-text" id="ptrText">Refreshing‚Ä¶</div>
    </div>
  </div>

  <!-- Backdrop + Drawer -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-top">
      <div class="drawer-title">Menu</div>

      <div class="drawer-toggles">
        <button class="toggle-btn" id="themeToggle" aria-label="Tema">
          <span id="themeIcon">üåô</span>
          <span class="toggle-label">Theme</span>
        </button>

        <button class="toggle-btn" id="liveToggle" aria-label="Mode">
          <span id="liveIcon">üì°</span>
          <span class="toggle-label" id="modeHint">Mode: LIVE</span>
        </button>
      </div>
    </div>

    <nav class="drawer-nav" id="drawerNav" aria-label="Navigation">
      <button class="nav-item active" data-page="dashboard" type="button">
        <span class="nav-ico">üè†</span>
        <span class="nav-label">My Dashboard</span>
      </button>

      <button class="nav-item" data-page="home" type="button">
        <span class="nav-ico">üåê</span>
        <span class="nav-label">Home</span>
      </button>

      <button class="nav-item" data-page="market" type="button">
        <span class="nav-ico">üìà</span>
        <span class="nav-label">Market</span>
      </button>

      <button class="nav-item" data-page="event" type="button">
        <span class="nav-ico">üßæ</span>
        <span class="nav-label">Event</span>
      </button>

      <button class="nav-item" data-page="settings" type="button">
        <span class="nav-ico">‚öôÔ∏è</span>
        <span class="nav-label">Impostazioni</span>
      </button>
    </nav>

    <div class="drawer-foot">
      <div class="drawer-foot-row">
        <div class="drawer-foot-title">Cloud Sync</div>
        <div class="drawer-foot-sub" id="cloudStatus">Cloud: Synced</div>
      </div>

      <div class="drawer-foot-row">
        <div class="drawer-foot-title">History</div>
        <div class="drawer-foot-sub" id="cloudHistory">¬∑ 0 pts</div>
      </div>

      <div class="drawer-foot-row">
        <div class="drawer-foot-title">App</div>
        <div class="drawer-foot-sub">v2.0.2 ¬∑ Sync enabled</div>
      </div>
    </div>
  </aside>

  <!-- Coming soon overlay (used by non-dashboard pages except Event which has its own view) -->
  <div class="coming-soon" id="comingSoon" aria-hidden="true">
    <div class="coming-card">
      <div class="coming-title" id="comingTitle">COMING SOON üöÄ</div>
      <div class="coming-sub" id="comingSub">This section is coming soon.</div>
      <button class="btn" id="comingClose" type="button">Close</button>
    </div>
  </div>

  <!-- App Root -->
  <div class="container loading" id="appRoot">

    <!-- Header -->
    <header class="header">
      <div class="header-grid">

        <!-- LEFT: MENU -->
        <div class="header-left">
          <button class="menu-btn" id="menuBtn" aria-label="Menu">
            <span class="menu-ico">‚ò∞</span>
          </button>
        </div>

        <!-- CENTER: STATUS -->
        <div class="header-center">
          <div class="status-pill" aria-label="Connection status">
            <span class="dot" id="statusDot"></span>
            <span class="status-text" id="statusText">Loading‚Ä¶</span>
          </div>
        </div>

        <!-- RIGHT: SEARCH -->
        <div class="header-right">
          <div class="search-wrap" id="searchWrap">
            <button class="search-btn" id="searchBtn" aria-label="Search address">üîé</button>
            <input
              class="search-input"
              id="addressInput"
              type="text"
              inputmode="text"
              spellcheck="false"
              autocomplete="off"
              placeholder="Enter wallet address"
            />
          </div>
        </div>

      </div>

      <!-- Address display (left emphasized) -->
      <div class="address-display" id="addressDisplay"></div>
    </header>

    <!-- Views -->
    <main class="main" id="main">

      <!-- DASHBOARD VIEW -->
      <section class="view view-active" id="dashboardView" aria-label="Dashboard">

        <!-- INJ PRICE CARD -->
        <section class="card" id="injPriceCard">
          <div class="card-top">
            <div class="card-title">INJ Price</div>
            <div class="card-sub">Real-time</div>
          </div>

          <div class="price-row">
            <div class="price-big" id="price">--</div>
            <div class="price-deltas">
              <div class="delta">
                <span class="arrow" id="arrow24h">‚ñ∫</span>
                <span class="pct" id="pct24h">0.00%</span>
                <span class="lbl">24h</span>
              </div>
              <div class="delta">
                <span class="arrow" id="arrowWeek">‚ñ∫</span>
                <span class="pct" id="pctWeek">0.00%</span>
                <span class="lbl">1W</span>
              </div>
              <div class="delta">
                <span class="arrow" id="arrowMonth">‚ñ∫</span>
                <span class="pct" id="pctMonth">0.00%</span>
                <span class="lbl">1M</span>
              </div>
            </div>
          </div>

          <div class="bars">

            <!-- 24h -->
            <div class="bar-block">
              <div class="bar-head">
                <div class="bar-title">24h</div>
                <div class="bar-values">
                  <span class="muted">Min</span> <span id="priceMin">--</span>
                  <span class="muted">Open</span> <span id="priceOpen">--</span>
                  <span class="muted">Max</span> <span id="priceMax">--</span>
                </div>
              </div>
              <div class="bar-track">
                <div class="bar-fill" id="priceBar"></div>
                <div class="bar-line" id="priceLine" aria-hidden="true"></div>
              </div>
            </div>

            <!-- Week -->
            <div class="bar-block">
              <div class="bar-head">
                <div class="bar-title">1W</div>
                <div class="bar-values">
                  <span class="muted">Min</span> <span id="weekMin">--</span>
                  <span class="muted">Open</span> <span id="weekOpen">--</span>
                  <span class="muted">Max</span> <span id="weekMax">--</span>
                </div>
              </div>
              <div class="bar-track">
                <div class="bar-fill" id="weekBar"></div>
                <div class="bar-line" id="weekLine" aria-hidden="true"></div>
              </div>
            </div>

            <!-- Month -->
            <div class="bar-block">
              <div class="bar-head">
                <div class="bar-title">1M</div>
                <div class="bar-values">
                  <span class="muted">Min</span> <span id="monthMin">--</span>
                  <span class="muted">Open</span> <span id="monthOpen">--</span>
                  <span class="muted">Max</span> <span id="monthMax">--</span>
                </div>
              </div>
              <div class="bar-track">
                <div class="bar-fill" id="monthBar"></div>
                <div class="bar-line" id="monthLine" aria-hidden="true"></div>
              </div>
            </div>

          </div>

          <!-- 1D chart -->
          <div class="chart-wrap">
            <div class="chart-overlay" id="chartOverlay">
              <div class="chart-overlay-text" id="chartPrice">--</div>
            </div>
            <div class="chart-canvas">
              <canvas id="priceChart" aria-label="INJ price chart"></canvas>
            </div>
          </div>
        </section>

        <!-- NET WORTH CARD -->
        <section class="card" id="netWorthCard">
          <div class="card-top">
            <div class="card-title">Net Worth</div>
            <div class="card-sub">Wallet value</div>
          </div>

          <div class="nw-metrics">
            <div class="nw-left">
              <div class="nw-usd" id="netWorthUsd">$--</div>
              <div class="nw-pnl" id="netWorthPnl">PnL: ‚Äî</div>
            </div>
            <div class="nw-right">
              <!-- this button will be moved under expand by JS -->
              <button class="chip" id="nwScaleToggle" type="button" aria-label="Scale">LIN</button>
            </div>
          </div>

          <div class="nw-tf" id="nwTfSwitch" aria-label="Net Worth timeframes">
            <button class="tf-btn active" type="button" data-tf="live">LIVE</button>
            <button class="tf-btn" type="button" data-tf="1d">1D</button>
            <button class="tf-btn" type="button" data-tf="1w">1W</button>
            <button class="tf-btn" type="button" data-tf="1m">1M</button>
            <button class="tf-btn" type="button" data-tf="1y">1Y</button>
            <button class="tf-btn" type="button" data-tf="all">ALL</button>
          </div>

          <div class="chart-wrap nw-chart">
            <div class="chart-canvas">
              <canvas id="netWorthChart" aria-label="Net worth chart"></canvas>
            </div>
          </div>

          <!-- Owned INJ box -->
          <div class="mini-grid">

            <div class="mini-card">
              <div class="mini-head">
                <span class="mini-label">INJ (total owned)</span>
              </div>
              <div class="mini-body">
                <div class="mini-main" id="netWorthInj">-- INJ</div>
              </div>

              <div class="nw-asset-row">
                <div class="nw-asset-left">
                  <span class="nw-asset-icon" aria-hidden="true">üü£</span>
                  <span class="nw-asset-name">Injective</span>
                </div>
                <div class="nw-asset-right">
                  <div class="nw-asset-col">
                    <div class="nw-asset-k">Qty</div>
                    <div class="nw-asset-v nw-asset-qty">--</div>
                  </div>
                  <div class="nw-asset-col">
                    <div class="nw-asset-k">Px</div>
                    <div class="nw-asset-v nw-asset-price">$--</div>
                  </div>
                  <div class="nw-asset-col">
                    <div class="nw-asset-k">USD</div>
                    <div class="nw-asset-v nw-asset-usd">$--</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- NEW: Validator box (under total owned) -->
            <div class="mini-card" id="validatorBox">
              <div class="mini-head">
                <span class="mini-label">Validator</span>
                <span class="v-dot" id="validatorDot" aria-label="Validator status"></span>
              </div>
              <div class="mini-body">
                <div class="mini-main" id="validatorName">‚Äî</div>
                <div class="mini-sub" id="validatorHint">Status: ‚Äî</div>
              </div>
            </div>

          </div>
        </section>

        <!-- ASSET CARDS ROW -->
        <section class="grid-2">

          <!-- AVAILABLE -->
          <section class="card" id="availableCard">
            <div class="card-top">
              <div class="card-title">Available</div>
              <div class="card-sub">Wallet balance</div>
            </div>

            <div class="big-num" id="available">--</div>
            <div class="muted-line" id="availableUsd">‚âà $--</div>
          </section>

          <!-- APR -->
          <section class="card" id="aprCard">
            <div class="card-top">
              <div class="card-title">APR</div>
              <div class="card-sub">Estimated</div>
            </div>

            <div class="big-num" id="apr">--%</div>
            <div class="muted-line">Network inflation</div>
          </section>

        </section>

        <!-- STAKED -->
        <section class="card" id="stakedCard">
          <div class="card-top">
            <div class="card-title">Staked</div>
            <div class="card-sub">Delegations</div>
          </div>

          <div class="big-num" id="stake">--</div>
          <div class="muted-line" id="stakeUsd">‚âà $--</div>

          <div class="progress">
            <div class="progress-meta">
              <div class="progress-left">
                <span class="muted">0</span>
                <span class="muted">‚Üí</span>
                <span class="muted" id="stakeMax">1000</span>
              </div>
              <div class="progress-right" id="stakePercent">0.0%</div>
            </div>
            <div class="progress-track">
              <div class="progress-fill" id="stakeBar"></div>
              <div class="progress-line" id="stakeLine" aria-hidden="true"></div>
            </div>
          </div>

          <div class="chart-wrap">
            <div class="chart-canvas">
              <canvas id="stakeChart" aria-label="Staked chart"></canvas>
            </div>
          </div>
        </section>

        <!-- REWARDS -->
        <section class="card" id="rewardsCard">
          <div class="card-top">
            <div class="card-title">Rewards</div>
            <div class="card-sub">Claimable</div>
          </div>

          <div class="big-num" id="rewards">--</div>
          <div class="muted-line" id="rewardsUsd">‚âà $--</div>

          <div class="progress">
            <div class="progress-meta">
              <div class="progress-left">
                <span class="muted">0</span>
                <span class="muted">‚Üí</span>
                <span class="muted" id="rewardMax">--</span>
              </div>
              <div class="progress-right" id="rewardPercent">0.0%</div>
            </div>
            <div class="progress-track">
              <div class="progress-fill" id="rewardBar"></div>
              <div class="progress-line" id="rewardLine" aria-hidden="true"></div>
            </div>
          </div>

          <div class="reward-controls">
            <div class="rc-left">
              <label class="rc-label" for="rewardFilter">Filter</label>
              <select class="rc-select" id="rewardFilter">
                <option value="0">All</option>
                <option value="0.0001">‚â• 0.0001</option>
                <option value="0.0005">‚â• 0.0005</option>
                <option value="0.001">‚â• 0.001</option>
                <option value="0.01">‚â• 0.01</option>
              </select>
            </div>

            <div class="rc-right">
              <button class="btn btn-ghost" id="rewardLiveBtn" type="button">Live</button>
            </div>
          </div>

          <div class="chart-wrap">
            <div class="chart-canvas">
              <canvas id="rewardChart" aria-label="Reward withdrawals chart"></canvas>
            </div>
          </div>

          <div class="timeline">
            <input id="rewardTimeline" class="timeline-range" type="range" min="0" max="0" value="0" />
            <div class="timeline-meta" id="rewardTimelineMeta">‚Äî</div>
          </div>

        </section>

      </section>

      <!-- EVENT VIEW (NEW: real table instead of coming soon) -->
      <section class="view" id="eventView" aria-label="Event">
        <div class="view-head">
          <div class="view-title">Event</div>
          <div class="view-sub">On-chain + price events</div>
        </div>

        <section class="card" id="eventCard">
          <div class="card-top">
            <div class="card-title">Activity Log</div>
            <div class="card-sub">Withdraw ¬∑ Unstake ¬∑ Reward ¬∑ Compound ¬∑ Price moves (24h)</div>
          </div>

          <div class="event-tools">
            <div class="event-left">
              <div class="pill">
                <span class="dot" id="eventLiveDot" aria-hidden="true"></span>
                <span class="pill-text" id="eventLiveText">Monitoring</span>
              </div>
            </div>

            <div class="event-right">
              <button class="btn btn-ghost" id="eventClearBtn" type="button">Clear</button>
              <button class="btn" id="eventExportBtn" type="button">Export</button>
            </div>
          </div>

          <div class="event-table-wrap">
            <table class="event-table" id="eventsTable">
              <thead>
                <tr>
                  <th class="col-evt">Event</th>
                  <th class="col-time">Date &amp; Time</th>
                  <th class="col-move">Movement</th>
                  <th class="col-status">Status</th>
                </tr>
              </thead>
              <tbody id="eventsTbody">
                <!-- JS will populate rows -->
                <tr class="event-empty">
                  <td colspan="4">No events yet.</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="event-foot muted">
            Tip: tap a row to expand details (when implemented).
          </div>
        </section>
      </section>

    </main>

    <!-- Last update (must stay at bottom of page) -->
    <div class="updated" id="updated">Last update: --:--:--</div>

    <!-- Footer (pro) -->
    <footer class="pro-footer">
      <div class="pf-left">
        <span class="pf-strong">v2.0.3</span>
        <span class="pf-dot">¬∑</span>
        <span>Last sync</span>
        <span class="pf-mono" id="lastSync">--:--:--</span>
      </div>

      <div class="pf-center">
        <span class="pf-strong">Data verified</span>
        <span class="pf-dot">¬∑</span>
        <span>Injective</span>
      </div>

      <div class="pf-right">
        <span class="pf-pill">API Online</span>
        <span class="pf-pill">WS Live</span>
        <span class="pf-pill">UTC+1</span>
      </div>
    </footer>

  </div>
</body>
</html>
