<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Injective ‚Ä¢ Portfolio</title>

  <link rel="stylesheet" href="style.css">

  <!-- Charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>

  <!-- App -->
  <script src="app.js" defer></script>
</head>

<body>
  <!-- Backdrop + Drawer -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-top">
      <div class="drawer-title">Menu</div>

      <div class="drawer-toggles">
        <button class="toggle-btn" id="themeToggle" type="button" aria-label="Theme">
          <span class="toggle-ico" id="themeIcon">üåô</span>
          <span class="toggle-txt">Theme</span>
        </button>

        <button class="toggle-btn" id="liveToggle" type="button" aria-label="Mode">
          <span class="toggle-ico" id="liveIcon">üì°</span>
          <span class="toggle-txt" id="modeHint">Mode: LIVE</span>
        </button>
      </div>
    </div>

    <nav class="drawer-nav" id="drawerNav">
      <button class="nav-item active" data-page="dashboard" type="button">
        <span class="nav-ico">üìä</span><span class="nav-txt">My Dashboard</span>
      </button>
      <button class="nav-item" data-page="home" type="button">
        <span class="nav-ico">üè†</span><span class="nav-txt">Home</span>
      </button>
      <button class="nav-item" data-page="market" type="button">
        <span class="nav-ico">üìà</span><span class="nav-txt">Market</span>
      </button>
      <button class="nav-item" data-page="event" type="button">
        <span class="nav-ico">üóìÔ∏è</span><span class="nav-txt">Event</span>
      </button>
      <button class="nav-item" data-page="settings" type="button">
        <span class="nav-ico">‚öôÔ∏è</span><span class="nav-txt">Settings</span>
      </button>
    </nav>

    <!-- Drawer footer (requested: app version + cloud sync at bottom) -->
    <div class="drawer-bottom">
      <div class="drawer-meta">
        <div class="drawer-meta-row">
          <span class="muted">App</span>
          <span class="mono">v2.0.3</span>
        </div>
        <div class="drawer-meta-row">
          <span class="muted">Cloud Sync</span>
          <span class="mono" id="cloudStatus">Cloud: Synced</span>
        </div>
        <div class="drawer-meta-row">
          <span class="muted">History</span>
          <span class="mono" id="cloudHistory">¬∑ 0 pts</span>
        </div>
      </div>
    </div>
  </aside>

  <!-- Coming soon overlay -->
  <div class="coming-soon" id="comingSoon" aria-hidden="true">
    <div class="coming-card" role="dialog" aria-modal="true" aria-label="Coming soon">
      <div class="coming-title" id="comingTitle">COMING SOON üöÄ</div>
      <div class="coming-sub" id="comingSub">PAGE is coming soon.</div>
      <button class="btn" id="comingClose" type="button">Close</button>
    </div>
  </div>

  <!-- Expand overlay for charts (icon-driven, replaces ‚ÄúDrag/Swipe‚Ä¶‚Äù text) -->
  <div class="expand" id="expandOverlay" aria-hidden="true">
    <div class="expand-inner" role="dialog" aria-modal="true" aria-label="Expanded chart view">
      <div class="expand-top">
        <div class="expand-title" id="expandTitle">Chart</div>
        <div class="expand-actions">
          <button class="icon-btn" id="expandClose" type="button" aria-label="Close">‚úï</button>
        </div>
      </div>
      <div class="expand-body" id="expandBody">
        <!-- JS will inject the expanded content here -->
      </div>
    </div>
  </div>

  <!-- App Root -->
  <div class="container loading" id="appRoot">

    <!-- Header -->
    <header class="header">
      <div class="header-grid">
        <div class="header-left">
          <button class="menu-btn" id="menuBtn" type="button" aria-label="Menu">
            <span class="menu-lines" aria-hidden="true">
              <span></span><span></span><span></span>
            </span>
          </button>
        </div>

        <div class="header-center">
          <div class="brand">
            <div class="brand-title">Injective Portfolio</div>
            <div class="brand-sub">
              <span class="dot" id="statusDot" aria-hidden="true"></span>
              <span class="status" id="statusText">Loading...</span>
            </div>
          </div>
        </div>

        <div class="header-right">
          <div class="search" id="searchWrap">
            <button class="icon-btn" id="searchBtn" type="button" aria-label="Search address">üîç</button>
            <input
              id="addressInput"
              type="text"
              inputmode="text"
              autocomplete="off"
              spellcheck="false"
              placeholder="Enter wallet address"
              aria-label="Wallet address"
            />
          </div>
        </div>
      </div>

      <div class="header-below">
        <div id="addressDisplay" class="address-display"></div>
      </div>
    </header>

    <!-- Main -->
    <main class="main">

      <!-- INJ PRICE -->
      <section class="card" id="cardPrice">
        <div class="card-head">
          <div class="card-title">INJ Price</div>
          <div class="card-actions">
            <button class="icon-btn expand-btn" type="button" data-expand="cardPrice" data-expand-title="INJ Price" aria-label="Expand">
              ‚§¢
            </button>
          </div>
        </div>

        <div class="price-top">
          <div class="price-main">
            <div class="price-val"><span id="price">0.0000</span></div>
            <div class="price-perf">
              <div class="perf">
                <span class="perf-lab">24H</span>
                <span class="arrow flat" id="arrow24h">‚ñ∫</span>
                <span class="pct flat" id="pct24h">0.00%</span>
              </div>
              <div class="perf">
                <span class="perf-lab">7D</span>
                <span class="arrow flat" id="arrowWeek">‚ñ∫</span>
                <span class="pct flat" id="pctWeek">0.00%</span>
              </div>
              <div class="perf">
                <span class="perf-lab">1M</span>
                <span class="arrow flat" id="arrowMonth">‚ñ∫</span>
                <span class="pct flat" id="pctMonth">0.00%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="bars">
          <div class="bar-row">
            <div class="bar-head">
              <span class="bar-lab">1D</span>
              <span class="bar-meta">
                <span class="mini">min</span> <span class="mono" id="priceMin">--</span>
                <span class="mini">open</span> <span class="mono" id="priceOpen">--</span>
                <span class="mini">max</span> <span class="mono" id="priceMax">--</span>
              </span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" id="priceBar"></div>
              <div class="bar-line" id="priceLine"></div>
            </div>
          </div>

          <div class="bar-row">
            <div class="bar-head">
              <span class="bar-lab">1W</span>
              <span class="bar-meta">
                <span class="mini">min</span> <span class="mono" id="weekMin">--</span>
                <span class="mini">open</span> <span class="mono" id="weekOpen">--</span>
                <span class="mini">max</span> <span class="mono" id="weekMax">--</span>
              </span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" id="weekBar"></div>
              <div class="bar-line" id="weekLine"></div>
            </div>
          </div>

          <div class="bar-row">
            <div class="bar-head">
              <span class="bar-lab">1M</span>
              <span class="bar-meta">
                <span class="mini">min</span> <span class="mono" id="monthMin">--</span>
                <span class="mini">open</span> <span class="mono" id="monthOpen">--</span>
                <span class="mini">max</span> <span class="mono" id="monthMax">--</span>
              </span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" id="monthBar"></div>
              <div class="bar-line" id="monthLine"></div>
            </div>
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="priceChart"></canvas>

          <!-- pinned overlay -->
          <div class="chart-overlay" id="chartOverlay" aria-hidden="true">
            <div class="chart-overlay-pill">
              <span id="chartPrice">--</span>
            </div>
          </div>
        </div>
      </section>

      <!-- NET WORTH -->
      <section class="card" id="cardNetWorth">
        <div class="card-head">
          <div class="card-title">Net Worth</div>
          <div class="card-actions">
            <button class="icon-btn expand-btn" type="button" data-expand="cardNetWorth" data-expand-title="Net Worth" aria-label="Expand">
              ‚§¢
            </button>
          </div>
        </div>

        <div class="nw-top">
          <div class="nw-val" id="netWorthUsd">$0.00</div>
          <div class="nw-sub" id="netWorthPnl">PnL: ‚Äî</div>
        </div>

        <div class="nw-controls">
          <div class="tf-switch" id="nwTfSwitch" role="tablist" aria-label="Net Worth timeframe">
            <!-- LIVE is the only ‚Äúscrolling‚Äù TF. Others are build-up and can be locked initially by JS -->
            <button class="tf-btn" type="button" data-tf="live" role="tab" aria-selected="false">LIVE</button>
            <button class="tf-btn" type="button" data-tf="1d" role="tab" aria-selected="true">1D</button>
            <button class="tf-btn locked" type="button" data-tf="1w" role="tab" aria-selected="false" disabled>1W</button>
            <button class="tf-btn locked" type="button" data-tf="1m" role="tab" aria-selected="false" disabled>1M</button>
            <button class="tf-btn locked" type="button" data-tf="1y" role="tab" aria-selected="false" disabled>1Y</button>
            <button class="tf-btn locked" type="button" data-tf="all" role="tab" aria-selected="false" disabled>ALL</button>
          </div>

          <!-- optional scale toggle (JS can use it; CSS can hide if you don't want it) -->
          <button class="mini-btn" id="nwScaleToggle" type="button" aria-label="Scale">LIN</button>
        </div>

        <div class="chart-wrap">
          <canvas id="netWorthChart"></canvas>
        </div>

        <!-- requested: removed the last ‚Äútotal qty / px‚Äù row -->
        <div class="nw-foot">
          <div class="nw-owned">
            <span class="mini">Total</span>
            <span class="mono" id="netWorthInj">0.0000 INJ</span>
          </div>
        </div>
      </section>

      <!-- AVAILABLE (before STAKED) -->
      <section class="card" id="cardAvailable">
        <div class="card-head">
          <div class="card-title">Available</div>
          <div class="card-actions"></div>
        </div>
        <div class="kv">
          <div class="kv-val"><span id="available">0.000000</span> <span class="mini">INJ</span></div>
          <div class="kv-sub" id="availableUsd">‚âà $0.00</div>
        </div>
      </section>

      <!-- APR (separate card) -->
      <section class="card" id="cardApr">
        <div class="card-head">
          <div class="card-title">APR</div>
          <div class="card-actions"></div>
        </div>
        <div class="kv">
          <div class="kv-val"><span id="apr">0.00%</span></div>
          <div class="kv-sub muted">Network inflation</div>
        </div>
      </section>

      <!-- STAKED -->
      <section class="card" id="cardStaked">
        <div class="card-head">
          <div class="card-title">Staked</div>
          <div class="card-actions">
            <button class="icon-btn expand-btn" type="button" data-expand="cardStaked" data-expand-title="Staked" aria-label="Expand">
              ‚§¢
            </button>
          </div>
        </div>

        <div class="kv">
          <div class="kv-val"><span id="stake">0.0000</span> <span class="mini">INJ</span></div>
          <div class="kv-sub" id="stakeUsd">‚âà $0.00</div>
        </div>

        <div class="meter">
          <div class="meter-top">
            <span class="mini">Progress</span>
            <span class="mono" id="stakePercent">0.0%</span>
          </div>
          <div class="bar-track">
            <div class="bar-fill" id="stakeBar"></div>
            <div class="bar-line" id="stakeLine"></div>
          </div>
          <div class="meter-minmax">
            <span class="mono" id="stakeMin">0</span>
            <span class="mono" id="stakeMax">1000</span>
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="stakeChart"></canvas>
        </div>
      </section>

      <!-- REWARDS -->
      <section class="card" id="cardRewards">
        <div class="card-head">
          <div class="card-title">Rewards</div>
          <div class="card-actions">
            <button class="icon-btn expand-btn" type="button" data-expand="cardRewards" data-expand-title="Rewards" aria-label="Expand">
              ‚§¢
            </button>
          </div>
        </div>

        <div class="kv">
          <div class="kv-val"><span id="rewards">0.0000000</span> <span class="mini">INJ</span></div>
          <div class="kv-sub" id="rewardsUsd">‚âà $0.00</div>
        </div>

        <div class="meter">
          <div class="meter-top">
            <span class="mini">Progress</span>
            <span class="mono" id="rewardPercent">0.0%</span>
          </div>
          <div class="bar-track">
            <div class="bar-fill" id="rewardBar"></div>
            <div class="bar-line" id="rewardLine"></div>
          </div>
          <div class="meter-minmax">
            <span class="mono" id="rewardMin">0</span>
            <span class="mono" id="rewardMax">0.1</span>
          </div>
        </div>

        <div class="reward-controls">
          <div class="rc-left">
            <label class="mini" for="rewardFilter">Min withdraw</label>
            <select id="rewardFilter" class="select">
              <option value="0">0</option>
              <option value="0.0001">0.0001</option>
              <option value="0.0002">0.0002</option>
              <option value="0.0005">0.0005</option>
              <option value="0.001">0.001</option>
            </select>
          </div>

          <div class="rc-right">
            <button class="mini-btn" id="rewardLiveBtn" type="button">LIVE</button>
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="rewardChart"></canvas>
        </div>

        <div class="timeline">
          <input id="rewardTimeline" type="range" min="0" max="0" value="0" step="1" />
          <div class="timeline-meta" id="rewardTimelineMeta">‚Äî</div>
        </div>
      </section>

    </main>

    <!-- Footer (requested: Last update at very bottom of the page) -->
    <footer class="footer">
      <div class="footer-left">
        <span class="mono">v2.0.3</span>
        <span class="dot-sep">¬∑</span>
        <span class="mono" id="updated">Last update: --:--:--</span>
      </div>

      <div class="footer-center">
        <span class="muted">Data verified</span>
        <span class="dot-sep">¬∑</span>
        <span class="mono">Injective</span>
      </div>

      <div class="footer-right">
        <span class="muted">API Online</span>
        <span class="dot-sep">¬∑</span>
        <span class="muted">WS Live</span>
        <span class="dot-sep">¬∑</span>
        <span class="mono">UTC+1</span>
      </div>
    </footer>

  </div>
</body>
</html>
