<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />
  <title>Injective ‚Ä¢ Portfolio</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js + Zoom plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>

  <!-- App -->
  <script src="app.js" defer></script>
</head>

<body data-theme="dark">
  <!-- Backdrop for drawer -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <!-- Drawer -->
  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-top">
      <div class="drawer-title">Menu</div>

      <div class="drawer-toggles">
        <button class="toggle-btn" id="themeToggle" type="button" aria-label="Theme">
          <span class="toggle-ico" id="themeIcon">üåô</span>
        </button>

        <button class="toggle-btn" id="liveToggle" type="button" aria-label="Mode">
          <span class="toggle-ico" id="liveIcon">üì°</span>
        </button>
      </div>

      <div class="drawer-hint" id="modeHint">Mode: LIVE</div>
    </div>

    <nav class="drawer-nav" id="drawerNav" aria-label="Navigation">
      <button class="nav-item" type="button" data-page="home">
        <span class="nav-ico">üè†</span>
        <span class="nav-txt">Home</span>
      </button>

      <button class="nav-item" type="button" data-page="market">
        <span class="nav-ico">üìà</span>
        <span class="nav-txt">Market</span>
      </button>

      <button class="nav-item active" type="button" data-page="dashboard">
        <span class="nav-ico">üß©</span>
        <span class="nav-txt">My Dashboard</span>
      </button>

      <button class="nav-item" type="button" data-page="event">
        <span class="nav-ico">üóÇÔ∏è</span>
        <span class="nav-txt">Event</span>
      </button>

      <button class="nav-item" type="button" data-page="settings">
        <span class="nav-ico">‚öôÔ∏è</span>
        <span class="nav-txt">Settings</span>
      </button>
    </nav>

    <div class="drawer-foot">
      <!-- JS injects: App v2.0.2 + Cloud status -->
    </div>
  </aside>

  <!-- Coming soon overlay -->
  <div class="coming-soon" id="comingSoon" aria-hidden="true">
    <div class="coming-card" role="dialog" aria-modal="true" aria-label="Coming soon">
      <div class="coming-emoji">üöÄ</div>
      <div class="coming-title" id="comingTitle">COMING SOON üöÄ</div>
      <div class="coming-sub" id="comingSub">This page is coming soon.</div>
      <button class="coming-close" id="comingClose" type="button">Close</button>
    </div>
  </div>

  <!-- App Root -->
  <div class="container loading" id="appRoot">
    <!-- Header -->
    <header class="header">
      <div class="header-grid">
        <!-- LEFT: Menu -->
        <div class="header-left">
          <button class="menu-btn" id="menuBtn" type="button" aria-label="Menu">
            <span class="menu-ico">‚ò∞</span>
          </button>
        </div>

        <!-- CENTER: Search -->
        <div class="header-center">
          <div class="search-wrap" id="searchWrap">
            <button class="search-btn" id="searchBtn" type="button" aria-label="Search wallet">
              <span class="search-ico">üîç</span>
            </button>

            <input
              class="search-input"
              id="addressInput"
              type="text"
              inputmode="text"
              autocomplete="off"
              spellcheck="false"
              placeholder="Enter Injective address (inj...)"
              aria-label="Wallet address"
            />
          </div>

          <div class="address-display" id="addressDisplay"></div>
        </div>

        <!-- RIGHT: Status -->
        <div class="header-right">
          <div class="status">
            <span class="dot" id="statusDot" aria-hidden="true"></span>
            <span class="status-text" id="statusText">Loading‚Ä¶</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="main">
      <div class="cards-wrapper">
        <!-- PRICE CARD -->
        <section class="card" id="priceCard">
          <div class="card-top">
            <div class="card-title">
              <div class="card-title-row">
                <div class="card-name">INJ Price</div>
                <button class="card-expand" type="button" aria-label="Expand card">‚§¢</button>
              </div>

              <div class="price-line">
                <div class="price-value" id="price">--</div>
                <div class="price-perf">
                  <div class="perf">
                    <span class="arrow" id="arrow24h">‚ñ∫</span>
                    <span class="pct" id="pct24h">0.00%</span>
                    <span class="perf-label">24H</span>
                  </div>
                  <div class="perf">
                    <span class="arrow" id="arrowWeek">‚ñ∫</span>
                    <span class="pct" id="pctWeek">0.00%</span>
                    <span class="perf-label">1W</span>
                  </div>
                  <div class="perf">
                    <span class="arrow" id="arrowMonth">‚ñ∫</span>
                    <span class="pct" id="pctMonth">0.00%</span>
                    <span class="perf-label">1M</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Bars -->
          <div class="bars">
            <div class="bar-block">
              <div class="bar-head">
                <span class="bar-label">24H</span>
                <span class="bar-minmax">
                  <span class="mm"><span class="mm-l">L</span> <span id="priceMin">--</span></span>
                  <span class="mm"><span class="mm-l">O</span> <span id="priceOpen">--</span></span>
                  <span class="mm"><span class="mm-l">H</span> <span id="priceMax">--</span></span>
                </span>
              </div>
              <div class="bar-container">
                <div class="bar-fill" id="priceBar"></div>
                <div class="bar-line" id="priceLine"></div>
              </div>
            </div>

            <div class="bar-block">
              <div class="bar-head">
                <span class="bar-label">1W</span>
                <span class="bar-minmax">
                  <span class="mm"><span class="mm-l">L</span> <span id="weekMin">--</span></span>
                  <span class="mm"><span class="mm-l">O</span> <span id="weekOpen">--</span></span>
                  <span class="mm"><span class="mm-l">H</span> <span id="weekMax">--</span></span>
                </span>
              </div>
              <div class="bar-container">
                <div class="bar-fill" id="weekBar"></div>
                <div class="bar-line" id="weekLine"></div>
              </div>
            </div>

            <div class="bar-block">
              <div class="bar-head">
                <span class="bar-label">1M</span>
                <span class="bar-minmax">
                  <span class="mm"><span class="mm-l">L</span> <span id="monthMin">--</span></span>
                  <span class="mm"><span class="mm-l">O</span> <span id="monthOpen">--</span></span>
                  <span class="mm"><span class="mm-l">H</span> <span id="monthMax">--</span></span>
                </span>
              </div>
              <div class="bar-container">
                <div class="bar-fill" id="monthBar"></div>
                <div class="bar-line" id="monthLine"></div>
              </div>
            </div>
          </div>

          <!-- 1D Chart -->
          <div class="chart-wrap">
            <div class="chart-overlay" id="chartOverlay" aria-hidden="true">
              <div class="chart-overlay-text" id="chartPrice">--</div>
            </div>
            <canvas id="priceChart"></canvas>
          </div>
        </section>

        <!-- NET WORTH CARD -->
        <section class="card" id="netWorthCard">
          <div class="card-top">
            <div class="card-title">
              <div class="card-title-row">
                <div class="card-name">Net Worth</div>
                <div class="card-actions">
                  <!-- Only scale button next to the value (JS wires it) -->
                  <button class="nw-scale-btn" type="button" aria-label="Scale">LIN</button>
                  <button class="card-expand" type="button" aria-label="Expand card">‚§¢</button>
                </div>
              </div>

              <div class="nw-head">
                <div class="nw-usd" id="netWorthUsd">$0.00</div>
                <div class="nw-pnl" id="netWorthPnl">PnL: ‚Äî</div>
              </div>

              <!-- Timeframes -->
              <div class="tf-switch" id="nwTfSwitch" aria-label="Net worth timeframes">
                <button class="tf-btn active" type="button" data-tf="1d">1D</button>
                <button class="tf-btn" type="button" data-tf="1w">1W</button>
                <button class="tf-btn" type="button" data-tf="1m">1M</button>
                <button class="tf-btn" type="button" data-tf="1y">1Y</button>
                <button class="tf-btn" type="button" data-tf="all">ALL</button>
                <!-- JS injects LIVE if missing -->
              </div>
            </div>
          </div>

          <div class="chart-wrap networth-chart">
            <canvas id="netWorthChart"></canvas>
          </div>

          <!-- Mini cards (keep structure, JS updates IDs) -->
          <div class="nw-mini-grid">
            <div class="nw-mini">
              <div class="nw-mini-label">INJ Total Owned</div>
              <div class="nw-mini-val" id="netWorthInj">0.0000 INJ</div>
              <div class="nw-mini-sub">
                <span class="nw-coin-logo" aria-hidden="true"></span>
                <span class="nw-mini-muted">Available + Staked + Rewards</span>
              </div>
            </div>

            <!-- Second mini card kept for compatibility; can be hidden via CSS later -->
            <div class="nw-mini is-empty">
              <div class="nw-mini-label">‚Äî</div>
              <div class="nw-mini-val">‚Äî</div>
              <div class="nw-mini-sub">‚Äî</div>
            </div>
          </div>

          <!-- Legacy asset row (kept for compatibility; you can hide via CSS) -->
          <div class="networth-asset">
            <div class="networth-asset-row">
              <div class="networth-asset-left">
                <span class="nw-asset-icon" aria-hidden="true"></span>
                <div class="networth-asset-meta">
                  <div class="networth-asset-name">Injective</div>
                  <div class="networth-asset-sub">Total crypto</div>
                </div>
              </div>
              <div class="networth-asset-right">
                <div class="networth-asset-line">
                  <span class="muted">Qty</span> <span id="nwAssetQty">0.0000</span>
                </div>
                <div class="networth-asset-line">
                  <span class="muted">Price</span> <span id="nwAssetPrice">$0.00</span>
                </div>
                <div class="networth-asset-line">
                  <span class="muted">Value</span> <span id="nwAssetUsd">$0.00</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- STAKED CARD -->
        <section class="card" id="stakeCard">
          <div class="card-top">
            <div class="card-title">
              <div class="card-title-row">
                <div class="card-name">Staked</div>
                <button class="card-expand" type="button" aria-label="Expand card">‚§¢</button>
              </div>

              <div class="metric-row">
                <div class="metric-main">
                  <div class="metric-val" id="stake">0.0000</div>
                  <div class="metric-sub" id="stakeUsd">‚âà $0.00</div>
                </div>
                <div class="metric-side">
                  <div class="metric-chip">
                    <span class="chip-label">Progress</span>
                    <span class="chip-val" id="stakePercent">0.0%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bar-block">
            <div class="bar-head">
              <span class="bar-label">Target</span>
              <span class="bar-minmax">
                <span class="mm"><span class="mm-l">Min</span> <span id="stakeMin">0</span></span>
                <span class="mm"><span class="mm-l">Max</span> <span id="stakeMax">1000</span></span>
              </span>
            </div>
            <div class="bar-container">
              <div class="bar-fill" id="stakeBar"></div>
              <div class="bar-line" id="stakeLine"></div>
              <!-- Gear injected by JS if missing -->
            </div>
          </div>

          <div class="chart-wrap stake-chart-wrap">
            <canvas id="stakeChart"></canvas>
          </div>
        </section>

        <!-- REWARDS CARD -->
        <section class="card" id="rewardCard">
          <div class="card-top">
            <div class="card-title">
              <div class="card-title-row">
                <div class="card-name">Rewards</div>
                <button class="card-expand" type="button" aria-label="Expand card">‚§¢</button>
              </div>

              <div class="metric-row">
                <div class="metric-main">
                  <div class="metric-val" id="rewards">0.0000000</div>
                  <div class="metric-sub" id="rewardsUsd">‚âà $0.00</div>
                </div>

                <div class="metric-side">
                  <!-- This button exists for JS (will be repurposed to LIN/LOG toggle) -->
                  <button class="mini-btn" id="rewardLiveBtn" type="button">LIN</button>

                  <select class="mini-select" id="rewardFilter" aria-label="Reward filter">
                    <option value="all">All</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="bar-block">
            <div class="bar-head">
              <span class="bar-label">Range</span>
              <span class="bar-minmax">
                <span class="mm"><span class="mm-l">Min</span> <span id="rewardMin">0</span></span>
                <span class="mm"><span class="mm-l">Max</span> <span id="rewardMax">0.1</span></span>
              </span>
            </div>
            <div class="bar-container">
              <div class="bar-fill" id="rewardBar"></div>
              <div class="bar-line" id="rewardLine"></div>
              <!-- Gear injected by JS if missing -->
            </div>
          </div>

          <div class="reward-meta-row">
            <input
              class="timeline"
              id="rewardTimeline"
              type="range"
              min="0"
              max="0"
              value="0"
              step="1"
              aria-label="Reward timeline"
            />
            <div class="timeline-meta" id="rewardTimelineMeta">‚Äî</div>
          </div>

          <div class="chart-wrap reward-chart-wrap">
            <canvas id="rewardChart"></canvas>
          </div>
        </section>

        <!-- APR CARD (moved to bottom) -->
        <section class="card" id="aprCard">
          <div class="card-top">
            <div class="card-title">
              <div class="card-title-row">
                <div class="card-name">APR</div>
                <button class="card-expand" type="button" aria-label="Expand card">‚§¢</button>
              </div>

              <div class="metric-row">
                <div class="metric-main">
                  <div class="metric-val" id="apr">0.00%</div>
                  <div class="metric-sub" id="updated">Last update: --</div>
                </div>

                <div class="metric-side">
                  <div class="metric-chip">
                    <span class="chip-label">Cloud</span>
                    <span class="chip-val" id="cloudStatus">Cloud: ‚Äî</span>
                  </div>
                </div>
              </div>

              <!-- (Optional future) APR chart can be added here later with a canvas -->
              <!-- <div class="chart-wrap apr-chart-wrap"><canvas id="aprChart"></canvas></div> -->
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-grid">
        <div class="footer-left">
          <span class="foot-strong">v2.0.2</span>
          <span class="foot-muted">¬∑</span>
          <span class="foot-muted" id="footerSync">Last sync</span>
        </div>

        <div class="footer-center">
          <span class="foot-muted">Data verified</span>
          <span class="foot-muted">¬∑</span>
          <span class="foot-strong">Injective</span>
        </div>

        <div class="footer-right">
          <span class="foot-muted">API</span>
          <span class="foot-strong">Online</span>
          <span class="foot-muted">¬∑</span>
          <span class="foot-muted">UTC+1</span>
        </div>
      </div>
    </footer>
  </div>
</body>
</html>
